# =============================================================================
# SIP Relay Server v2 - Docker Environment Configuration
# =============================================================================
# Copy this file to .env and configure for your environment
# cp .env.docker.example .env

# =============================================================================
# OpenAI Configuration (Required for AI features)
# =============================================================================
OPENAI_API_KEY=your_openai_api_key_here

# =============================================================================
# SIP Configuration
# =============================================================================
# Local IP: Use your host machine's IP address (not 127.0.0.1 or Docker IPs)
# This is the IP that SIP clients will connect to
SIP_LOCAL_IP=192.168.1.101

# SIP listening port for incoming calls
SIP_LOCAL_PORT=5062

# SIP transfer/relay port
SIP_TRANSFER_PORT=5060

# Remote SIP server (PBX, VoIP provider, etc.)
SIP_SERVER_IP=192.168.1.170

# =============================================================================
# WebSocket Configuration
# =============================================================================
# WebSocket server binding address (use 0.0.0.0 for Docker)
WS_HOST=0.0.0.0

# WebSocket port
WS_PORT=8080

# WebSocket URL for call-center to connect to sip-server
# Use localhost when both containers use network_mode: host
WS_URL=ws://localhost:8080

# =============================================================================
# RTP Configuration
# =============================================================================
# RTP port range for audio streams
# Ensure these ports are not blocked by firewall
RTP_PORT_START=31000
RTP_PORT_END=31010

# =============================================================================
# Logging Configuration
# =============================================================================
# Log level: DEBUG, INFO, WARNING, ERROR
LOG_LEVEL=INFO

# Log file paths (relative to container working directory)
SIP_LOG_FILE=sip_server.log
CALL_CENTER_LOG_FILE=call_center.log

# =============================================================================
# File Management
# =============================================================================
# Directory for call recordings (will be created if not exists)
RECORDING_DIR=./recording

# Directory for audio output files
OUTPUT_DIR=./output

# Automatic cleanup of old recordings (in days)
MAX_RECORDING_AGE_DAYS=7

# =============================================================================
# Call Center Configuration
# =============================================================================
# Number of audio packets to buffer before processing
# Lower = faster response, Higher = better transcription quality
CALL_CENTER_BUFFER_SIZE=120

# =============================================================================
# Queue Limits (Performance Tuning)
# =============================================================================
# WebSocket send/receive queue limits
WS_SEND_QUEUE_MAX=1000
WS_RECV_QUEUE_MAX=1000

# RTP send/receive queue limits
RTP_SEND_QUEUE_MAX=500
RTP_RECV_QUEUE_MAX=500
